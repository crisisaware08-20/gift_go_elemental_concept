/*
* This file was generated by the Gradle 'init' task.
*/

plugins {
	// Apply the java Plugin to add support for Java.
	id 'java'
}

repositories {
	// Use Maven Central for resolving dependencies.
	mavenCentral()
}

dependencies {
	constraints {
		// Define dependency versions as constraints
		implementation 'org.apache.commons:commons-text:1.10.0'
	}

	testImplementation 'org.junit.platform:junit-platform-suite-engine:1.10.1'
	testImplementation 'org.junit.jupiter:junit-jupiter-api:5.10.2'
	testImplementation 'org.junit.jupiter:junit-jupiter-engine:5.10.2'
	testRuntimeOnly 'org.junit.platform:junit-platform-launcher'

	// https://mvnrepository.com/artifact/org.junit.platform/junit-platform-console-standalone
	testImplementation 'org.junit.platform:junit-platform-console-standalone:1.9.3'

	// https://mvnrepository.com/artifact/io.cucumber/cucumber-junit-platform-engine
	testImplementation 'io.cucumber:cucumber-junit-platform-engine:7.18.0'
	testImplementation 'io.cucumber:cucumber-java:7.15.0'

	// https://mvnrepository.com/artifact/org.mockito/mockito-core
	testImplementation 'org.mockito:mockito-core:5.11.0'
	// https://mvnrepository.com/artifact/org.mockito/mockito-junit-jupiter
	testImplementation 'org.mockito:mockito-junit-jupiter:5.11.0'
}

// Apply a specific Java toolchain to ease working on different environments.
java {
	toolchain {
		languageVersion = JavaLanguageVersion.of(17)
	}
}

tasks.named('test') {
	// Use JUnit Platform for unit tests.
	useJUnitPlatform()
	testLogging {
		events 'PASSED', 'FAILED', 'SKIPPED', 'STANDARD_OUT'
	}

}

// task runTests(type: JavaExec) {
// 	group = 'verification'
// 	description = 'Runs the tests with the specified test engine'
//
// 	classpath = sourceSets.test.runtimeClasspath
// 	main = 'org.junit.platform.console.ConsoleLauncher'
//
// 	def testEngine = project.hasProperty('testEngine') ? project.property('testEngine') : 'junit'
//
// 	args = [
// 		'--class-path', sourceSets.test.runtimeClasspath.asPath,
// 		'--scan-class-path'
// 	]
//
// 	if (testEngine == 'cucumber') {
// 		args += '--include-engine=cucumber'
// 	} else if (testEngine == 'junit') {
// 		args += '--include-engine=junit-jupiter'
// 	} else {
// 		throw new GradleException("Unsupported test engine: $testEngine")
// 	}
// }
